<div>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="navbar-brand" href="#/">WAXE <small>Beta</small></a>
    </div>

    <div class="collapse navbar-collapse" id="js-navbar-collapse">
      <ul class="nav navbar-nav">
        <menu-item ng-repeat="obj in NavbarService.menuData[0]" obj="obj"></menu-item>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <menu-item ng-repeat="obj in NavbarService.menuData[1]" obj="obj"></menu-item>
      </ul>
    </div>
    <ul class="nav navbar-nav navbar-icons">
      <menu-item ng-repeat="obj in NavbarService.menuData[2]" obj="obj" icon="true"></menu-item>
    </ul>
    <ul class="nav navbar-nav navbar-icons navbar-right">
      <menu-item ng-repeat="obj in NavbarService.menuData[3]" obj="obj"></menu-item>
    </ul>
  </div>
<input type="text" ng-model="completion.path" typeahead-on-select="openFile($item)" placeholder="Search file" typeahead="path for path in getPaths($viewValue)" class="form-control" style="float: left; width: auto; margin-right: 20px;" />
<breadcrumb files="Session.breadcrumbFiles"></breadcrumb>
</div>


<script type="text/ng-template" id="navbar-item.html">
  <li ng-if="item.visible !== false" ng-class="{'disabled': item.enable === false}">
    <a href="" ng-title="aTitle" ng-click="clickItem()" ng-class="{'btn-enabled': item.selected === true}">
      <i ng-class="item.iconClass"></i>
      <span ng-bind-html="item.name" ng-if="icon !== true"></span>
    </a>
  </li>
</script>


<script type="text/ng-template" id="navbar-item-group.html">
  <li class="dropdown-header">{{item.name}}</li>
  <menu-item ng-repeat="child in children" obj="child" sub="true"></menu-item>
</script>


<script type="text/ng-template" id="navbar-item-dropdown.html">
  <li dropdown ng-if="item.visible !== false" ng-class="{'disabled': item.enable === false}">
    <a dropdown-toggle ng-class="{'disabled': item.enable === false}">
      {{item.name}}
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <menu-item ng-repeat="child in children" obj="child" sub="true"></menu-item>
    </ul>
  </li>
</script>


<script type="text/ng-template" id="navbar-item-login.html">
  <li ng-if="!Session.login" class="active"><a ng-href="#/login">Sign in</a></li>
  <li dropdown ng-if="Session.login">
    <a dropdown-toggle>
      <span>{{Session.login}}</span>
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu dropdown-menu-icons">
      <li ng-repeat="login in UserProfile.logins">
        <a ng-if="login!=Session.login" href="#{{UrlFactory.url(login)}}">{{login}}</a>
      </li>
      <li>
        <a href="" ng-click="$root.logout()">
          <i class="fa fa-sign-out"></i>Logout
        </a>
      </li>
    </ul>
  </li>
</script>


<script type="text/ng-template" id="navbar-item-search.html">
  <form class="navbar-form navbar-left" role="search" ng-submit="$root.doSearch()" ng-if="item.visible !== false">
    <div class="form-group">
      <input type="text" name="search" class="form-control" placeholder="Search" ng-model="$root.search.text" />
    </div>
  </form>
</script>

<script type="text/ng-template" id="navbar-new.html">
  <div class="modal-header">
      <h3 class="modal-title">Select a XML type</h3>
  </div>
  <div class="modal-body">
      <ul>
          <li ng-repeat="item in items">
              <a ng-click="selected.item = item">{{ item }}</a>
          </li>
      </ul>
      Selected: <b>{{ selected.item }}</b>
      <select ng-change="updateDtdTags()" ng-model="dtd_url">
        <option ng-repeat="dtd in AccountProfile.dtd_urls">{{dtd}}</option>
      </select>


      <select ng-model="dtd_tag">
        <option ng-repeat="tag in dtdTags">{{tag}}</option>
      </select>

  </div>
  <div class="modal-footer">
      <button class="btn btn-default" ng-click="cancel()">Cancel</button>
      <button class="btn btn-primary" ng-click="ok()">OK</button>
  </div>
</script>


<script type="text/ng-template" id="navbar-open.html">
  <div class="modal-header">
      <h3 class="modal-title">Open file</h3>
  </div>
  <div class="modal-body">
    <div class="breadcrumb" ng-if="breadcrumbFiles.length">
      <li ng-repeat="file in breadcrumbFiles">
        <a ng-if="isDefined(file.path)" href="" ng-click="open(file.path)">{{file.name}}</a>
        <span ng-if="!isDefined(file.path)">{{file.name}}</span>
      </li>
    </div>
    <div class="row">
      <div class="col-md-6" ng-repeat="file in files">
        <a ng-if="file.type === 'folder'" href="" ng-click="open(file.path)"><i class="fa fa-folder-o"></i> {{file.name}}</a>
        <a ng-if="file.type === 'file'" ng-click="cancel()" href="#{{ UrlFactory.userUrl(url, {path: file.path}) }}"><i class="fa fa-file-excel-o"></i> {{file.name}}</a>
      </div>
    </div>
  </div>
  <div class="modal-footer">
      <button class="btn btn-default" ng-click="cancel()">Cancel</button>
  </div>
</script>


<script type="text/ng-template" id="navbar-saveas.html">
  <div class="modal-header">
      <h3 class="modal-title">Save as</h3>
  </div>
  <div class="modal-body">
    <div class="breadcrumb" ng-if="breadcrumbFiles.length">
      <li ng-repeat="file in breadcrumbFiles">
        <a ng-if="isDefined(file.path)" href="" ng-click="open(file.path)">{{file.name}}</a>
        <span ng-if="!isDefined(file.path)">{{file.name}}</span>
      </li>
    </div>
    <div class="row">
      <div class="col-md-6" ng-repeat="file in files">
        <a ng-if="file.type === 'folder'" href="" ng-click="open(file.path)"><i class="fa fa-folder-o"></i> {{file.name}}</a>
        <a ng-if="file.type === 'file'" ng-click="saveAs(file.name)"><i class="fa fa-file-excel-o"></i> {{file.name}}</a>
      </div>
    </div>
  </div>

  <form ng-submit="saveAs()">
    <div class="form-group">
      <label>Filename:</label>
      <input ng-model="filename" required="required" />
      <button type="submit">Save as</button>
    </div>
  </form>

  <form ng-submit="createFolder()">
    <div class="form-group">
      <label>Create a new folder:</label>
      <input ng-model="folder" required="required" />
      <button type="submit">Create</button>
    </div>
  </form>
  <div class="modal-footer">
      <button class="btn btn-default" ng-click="cancel()">Cancel</button>
  </div>
</script>


<script type="text/ng-template" id="file-move.html">
  <div class="modal-header">
      <h3 class="modal-title">Move</h3>
  </div>
  <div class="modal-body">
    <div class="breadcrumb" ng-if="breadcrumbFiles.length">
      <li ng-repeat="file in breadcrumbFiles">
        <a ng-if="isDefined(file.path)" href="" ng-click="open(file.path)">{{file.name}}</a>
        <span ng-if="!isDefined(file.path)">{{file.name}}</span>
      </li>
    </div>
    <div class="row">
      <div class="col-md-6" ng-repeat="file in files" ng-if="file.type === 'folder'">
        <a href="" ng-click="open(file.path)"><i class="fa fa-folder-o"></i> {{file.name}}</a>
      </div>
    </div>
  </div>
  <div class="modal-footer">
      <button class="btn btn-primary" ng-click="ok()">OK</button>
      <button class="btn btn-default" ng-click="cancel()">Cancel</button>
  </div>
</script>

</div>
